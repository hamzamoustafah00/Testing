### After git clone, before you start the app!
* Make a copy of DbTemplate/_db.sqlite3 to Backend/_db.sqlite3
* Why? We don't want small changes (reading/writing data) to
  affect git, and Backend/_db.sqlite3 is gitignored!

### After major/structural changes to the db
If you make structural changes to the db or add important data:
* It's fine to make these changes in Backend/_db.sqlite3.
* That way you can check out that they work with the backend!

To commit them to git:
* Turn off the backend/server!
* Make a copy of Backend/_db.sqlite3 to DbTemplate/_db.sqlite3.
* Commit to git!

### Backend/src/App.cs
This is the starting point. Here you can easily turn off ACL and/or the Debugger.

### Have a look in the db
Currently we have three users, one with admin rights, and all users have password "12345678".
We recommend SQLiteStudio as a DB editor!

### The DynObject-class facilitates the generic REST-api
If you add a table or view in the DB, corresponding routes will be created automatically.

**I say this once more:** YOU NORMALLY DON'T ADD ANY CODE IN ORDER TO CREATE NEW ROUTES. YOU ADD TABLES AND VIEWS IN THE DB!

### If the ACL is on you need to add rules in the acl table!
* You whitelist routes based on userRoles. 
* If you set match to false this negates the route matching. See comments in ACL table.
* All rules marked "allow" (whitelisting) runs before rules marked "disallow" (blacklisting).
* So you only use blacklisting to tighten up your previous whitelisting. See comments in ACL table.
* The ACL is not for the REST-api but all routes (frontend-routes/static files as well).
* ACL rules are reread every 60 seconds, alternatively you restart the server to observe changes at once.

### Cookies and session
* All users (even visitors) gets a cookie bound to a session stored in the DB table sessions,
  as soon as they visit a page. 
* Everytime you make a request the modified time is updated for the session in the DB.
* If a session has not been modified for 2 hours it gets deleted.
* However cookies survives for a browser session (as long as the browser is open).
* This means: A new session can be created from an "old" cookie.

### Login-routes
The only api routes that are not generated by which tables and views you have in your DB are the login routes.

#### POST /api/login: Login
* The request body should be in JSON-format and contain an existing email and password. 

#### GET /api/login: Check if someone is logged in and retrieve user details.
* Check if someone is logged in and retrieve user details.

#### DELETE /api/login: Logout
*  Logout!

### But how do I register a new user? POST /api/users
* The request body should be in JSON-format and contain a non-existing email, a password, a firstName and a lastName.